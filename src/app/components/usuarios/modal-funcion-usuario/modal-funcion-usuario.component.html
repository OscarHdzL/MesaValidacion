
<div class="flex items-center " style="border: none !important" mat-dialog-title >
  <h2 class="headline m-0 flex-auto">Funciones del periodo <b>{{this.usuarioModel.nombre}}</b></h2>
  <button class="text-secondary" mat-dialog-close mat-icon-button type="button">
      <mat-icon svgIcon="mat:close"></mat-icon>
  </button>
</div>
<mat-divider class="-mx-6 text-border"></mat-divider>
<mat-dialog-content class="px-1">
  <div class="card overflow-auto mt-2">
    <div
      class="bg-app-bar px-6 h-16 border-b sticky left-0 flex items-center"
    >
      <h2
        class="title my-0 ltr:pr-4 rtl:pl-4 ltr:mr-4 rtl:ml-4 ltr:border-r rtl:border-l sm:block flex-none"
      >
        Lista de funciones
      </h2>
      <span class="flex-1"></span>
    </div>
    <table [dataSource]="this.dataSource" class="w-full" mat-table matSort>
      <ng-container matColumnDef="modulo">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          Módulo
        </mat-header-cell>
        <mat-cell *matCellDef="let row" data-label="Módulo">
          <div >
            {{ row.modulo }}
          </div>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="funcion">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          Función
        </mat-header-cell>
        <mat-cell *matCellDef="let row" data-label="funcion">
          <div >
            {{ row.funcion }}
          </div>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          Acción
        </mat-header-cell>
        <mat-cell *matCellDef="let row" data-label="Acción">
          <div class="flex justify-center">

            <section class="example-section">
              <mat-slide-toggle
                  class="example-margin"
                  [color]="color"
                  [checked]="row.activo"
                  (toggleChange) = "actualizarFuncion(row, $event)"
                  >
                  {{row.activo ? 'Deshabilitar':'Habilitar'}}
              </mat-slide-toggle>
            </section>
            <!-- <a
              (click)="eliminarDocumento(row)"
              matTooltip="Eliminar documento"
              *ngIf="this.permiso_Eliminar_documento"
              class="w-10 h-10 leading-none flex items-center justify-center hover:bg-hover text-primary bg-primary/10 mr-2"
              mat-icon-button
            >
              <mat-icon
                class="icon-sm"
                svgIcon="mat:delete_forever"
              ></mat-icon>
            </a> -->
          </div>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="visibleColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: visibleColumns"> </mat-row>
    </table>
    <div
      *ngIf="this.Funciones.length == 0"
      class="flex-auto items-center justify-center"
    >
      <h1 class="m-10 headline2" style="text-align: center">
        No se encontraron Funciones registrados
      </h1>
    </div>
    <mat-paginator #paginator [pageSizeOptions]="[5, 10, 15]"></mat-paginator>
  </div>
</mat-dialog-content>


