<!-- <div mat-dialog-title class="flex items-center">
  <h2 class="headline m-0 flex-auto">
    Foro de versión de archivo <b>{{ this.doc.documento }}</b>
  </h2>
  <button></button>
  <button class="text-secondary" mat-dialog-close mat-icon-button type="button">
    <mat-icon svgIcon="mat:close"></mat-icon>
  </button>
</div> -->
<div class="flex items-center" mat-dialog-title>
  <h2 class="headline m-0 flex-auto">
    Foro de versión de archivo <b>{{ this.doc.documento }}</b>
  </h2>
  <button></button>
  <button class="text-secondary" mat-dialog-close mat-icon-button type="button">
    <mat-icon svgIcon="mat:close"></mat-icon>
  </button>
</div>

<mat-divider class="-mx-6 text-border"></mat-divider>
<div>
  <mat-dialog-content class="overflow-hidden">
    <!-- <div class="container mx-auto shadow-lg rounded-lg">
      <div class="flex flex-row justify-between bg-white">

        <div class="w-full px-5 flex flex-col justify-between">
          <div
            class="flex flex-col mt-5"
            *ngFor="let comentario of listaComentarios"
          >

            <div
              class="flex justify-end mb-4"
              *ngIf="comentario.catUsuarioId == this.idUsuarioActual"
            >
              <div
                class="mr-2 py-3 px-4 bg-blue-400 rounded-bl-3xl rounded-tl-3xl rounded-tr-xl text-white"
              >
                <p class="text-sm font-light">
                  &nbsp;&nbsp;{{ comentario.catUsuario.nombre }} -
                  {{ comentario.inclusion | date : "yyyy-MM-dd hh:mm:ss" }}
                </p>
                <p class="mensaje-texto text-lg font-semibold">
                  {{ comentario.comentario }}
                </p>
              </div>
            </div>


            <div
              class="flex justify-start mb-4"
              *ngIf="comentario.catUsuarioId != this.idUsuarioActual"
            >
              <div
                class="ml-2 py-3 px-4 bg-gray-400 rounded-br-3xl rounded-tr-3xl rounded-tl-xl text-white"
              >
                <p class="text-sm font-light">
                  &nbsp;&nbsp;{{ comentario.catUsuario.nombre }} -
                  {{ comentario.inclusion | date : "yyyy-MM-dd hh:mm:ss" }}
                </p>
                <p class="mensaje-texto text-lg font-semibold">
                  {{ comentario.comentario }}
                </p>
              </div>
            </div>
          </div>


          <div class="py-5 my-fixed-item" *ngIf="!this.doc.modoVisualizacion">
            <form [formGroup]="checkoutForm" (ngSubmit)="guardarComentario()">
              <input
                class="w-8/12 bg-gray-300 py-5 px-3 rounded-xl inline-block"
                type="text"
                name="comentario"
                id="comentario"
                formControlName="comentario"
                placeholder="Agrega un comentario"
                autocomplete="off"
              />

              <button
                type="button"
                class="text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-blue-300 font-medium rounded-full text-sm p-2.5 text-center inline-flex items-center mr-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 ml-1"
                type="submit"
              >
                <svg
                  aria-hidden="true"
                  class="w-4 h-4"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0
                                        01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0
                                        010-1.414z"
                    clip-rule="evenodd"
                  ></path>
                </svg>
                <span class="sr-only">Icon description</span>
              </button>
            </form>
          </div>
        </div>
      </div>
    </div> -->

    <section class="h-screen flex overflow-hidden">
      <!-- <div class="bg-white w-3/12 p-6"></div> -->
      <div class="bg-gray-100 w-full p-2">
        <div class="px-20 py-6 border-b"></div>
        <div class="py-6 px-6 overflow-auto h-2/4">
          <div *ngFor="let comentario of listaComentarios">
            <div
              class="flex mb-12"
              *ngIf="comentario.catUsuarioId != this.idUsuarioActual"
            >
              <div class="flex flex-col">
                <div
                  class="bg-white p-6 w-fit rounded-3xl rounded-bl-none shadow-sm mb-2"
                >
                  <p class="mensaje-texto">
                    <b>{{ comentario.catUsuario.nombre }}</b>
                  </p>
                  <p class="text-gray-700 font-light mensaje-texto">
                    {{ comentario.comentario }}
                  </p>
                </div>
                <small class="text-gray-500">{{
                  comentario.inclusion | date : "yyyy-MM-dd hh:mm:ss"
                }}</small>
              </div>
            </div>
            <div
              class="flex mb-12 flex-row-reverse"
              *ngIf="comentario.catUsuarioId == this.idUsuarioActual"
            >
              <div class="flex flex-col">
                <div
                  class="bg-white p-6 w-fit rounded-3xl rounded-br-none shadow-sm mb-2"
                >
                  <p class=" mensaje-texto">
                    <b>{{ comentario.catUsuario.nombre }}</b>
                  </p>
                  <p class="text-gray-700 font-light mb-1 flex justify-end">
                    {{ comentario.comentario }}
                  </p>
                </div>
                <small class="text-gray-500 self-end">{{
                  comentario.inclusion | date : "yyyy-MM-dd hh:mm:ss"
                }}</small>
              </div>
            </div>
          </div>
        </div>

        <div
          class="py-6 px-5 flex border-t"
          *ngIf="!this.doc.modoVisualizacion"
        >
          <form
            [formGroup]="checkoutForm"
            (ngSubmit)="guardarComentario()"
            class="w-full"
          >
            <input
              type="text"
              placeholder="Escribe tu mensaje..."
              name="comentario"
              id="comentario"
              formControlName="comentario"
              class="px-2 py-2 bg-white-100 w-full focus:outline-none mr-2"
            />
          </form>
          <button
            type="submit"
            (click)="guardarComentario()"
            mat-mini-fab
            color="primary"
          >
            <svg
              class="w-6"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              strokeWidth="{1.5}"
              stroke="currentColor"
              className="w-6 h-6"
            >
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                d="M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"
              />
            </svg>
          </button>
        </div>
      </div>
    </section>
  </mat-dialog-content>
</div>
